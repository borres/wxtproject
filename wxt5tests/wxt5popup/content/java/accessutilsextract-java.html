<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
	<title>WXT-popup</title>
	<meta content="WXT" name="keywords"/>
	<meta content="wxt3" name="GENERATOR"/>
	
	<link href="../../../templates/templatestyle.css" rel="stylesheet" type="text/css"/>
	
	<link href="http://www.it.hiof.no/~borres/allround/stdstyles/wxtstyle.css" rel="STYLESHEET"/>
	<script src="http://www.it.hiof.no/~borres/allround/jquery.js" type="text/javascript"> </script>
	<script src="http://www.it.hiof.no/~borres/allround/stdjs/wxtjs.js" type="text/javascript"> </script>
	
    <script src="http://www.it.hiof.no/~borres/allround/google-code-prettify/src/prettify.js" type="text/javascript"> </script>
    <script src="http://www.it.hiof.no/~borres/allround/google-code-prettify/src/lang-css.js" type="text/javascript"> </script>
    <script src="http://www.it.hiof.no/~borres/allround/google-code-prettify/src/lang-sql.js" type="text/javascript"> </script>
	<script src="http://www.it.hiof.no/~borres/allround/google-code-prettify/src/lang-ml.js" type="text/javascript"> </script>

</head>

<body><pre class="skiptranslate prettyprint lang-j" id="prettycode8">/**
 * Append to a text file.
 * 
 * @param theUri The absolute URI to the file
 * @param text The text to append
 * @param maxFileSize When file reach this size in bytes it is reset, -1 keeps it going forever
 * @return true if save goes ok, false otherwise
 */
public static boolean appendToTextFile(URI theUri, String text, long maxFileSize)
{
    try {
        File f = new File(theUri);
        try {
            if (!f.exists()) {
                return saveTextFile(f, text, false); // not append
            }
            if ((maxFileSize &gt;= 0) &amp;&amp; (f.length() &gt; maxFileSize))
            {
                return saveTextFile(f, text, false); // not append
            }
            return saveTextFile(f, text, true); // append
        } catch (Exception ioe) {
            throw new Exception(ioe.getMessage());
        }
    } catch (Exception ex) {
        System.out.println("AccessUtils:appendToTextFile, Not written: " + theUri.toString());
        return false;
    }
}</pre></body>
</html>